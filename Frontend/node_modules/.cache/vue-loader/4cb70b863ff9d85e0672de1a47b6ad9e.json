{"remainingRequest":"D:\\WebApp-AW\\WebApps-AplicacionesWeb\\Frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\WebApp-AW\\WebApps-AplicacionesWeb\\Frontend\\src\\components\\Customers.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\WebApp-AW\\WebApps-AplicacionesWeb\\Frontend\\src\\components\\Customers.vue","mtime":1623648682875},{"path":"D:\\WebApp-AW\\WebApps-AplicacionesWeb\\Frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\WebApp-AW\\WebApps-AplicacionesWeb\\Frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\WebApp-AW\\WebApps-AplicacionesWeb\\Frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\WebApp-AW\\WebApps-AplicacionesWeb\\Frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnCgpleHBvcnQgZGVmYXVsdCB7CiAgICBkYXRhOigpID0+ICh7CiAgICAgICAgc2VhcmNoOiAnJywKICAgICAgICBjdXN0b21lcmlkOiAnJywKICAgICAgICBmaXJzdG5hbWU6ICcnLAogICAgICAgIGxhc3RuYW1lOiAnJywKICAgICAgICBkbmk6ICcnLAogICAgICAgIGRpc3RyaWN0aWQ6ICcnLAogICAgICAgIGVtYWlsOiAnJywKICAgICAgICBjZWxscGhvbmU6ICcnLAogICAgICAgIGRpYWxvZzogZmFsc2UsCiAgICAgICAgZWRpdGVkSW5kZXg6IC0xLAogICAgICAgIGN1c3RvbWVyczogW10sCiAgICAgICAgZGlzdHJpY3RzOiBbXSwKICAgICAgICBoZWFkZXJzOiBbCiAgICAgICAgICAgIHsgdGV4dDogJ0ZpcnN0TmFtZScsIHZhbHVlOiAnZmlyc3RuYW1lJywgc29ydGFibGU6IHRydWUgfSwKICAgICAgICAgICAgeyB0ZXh0OiAnTGFzdE5hbWUnLCB2YWx1ZTogJ2xhc3RuYW1lJywgc29ydGFibGU6IHRydWUgfSwKICAgICAgICBdLAogICAgfSksCiAgICBjb21wdXRlZDogewogICAgICAgIGZvcm1UaXRsZSgpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWRpdGVkSW5kZXggPT09IC0xID8gJ0FncmVnYXIgQ2xpZW50ZSc6ICdFZGl0YXIgQ2xpZW50ZSc7CiAgICAgICAgfQogICAgfSwKICAgIHdhdGNoOiB7CiAgICAgICAgZGlhbG9nICh2YWwpIHsKICAgICAgICAgICAgdmFsIHx8IHRoaXMuY2xvc2UoKQogICAgICAgIH0KICAgIH0sCiAgICBjcmVhdGVkKCkgewogICAgICAgIHRoaXMubGlzdEN1c3RvbWVycygpOwogICAgfSwKCiAgICBtZXRob2RzOiB7CiAgICAgICAgbGlzdEN1c3RvbWVycygpIHsKICAgICAgICAgICAgbGV0IG1lPSB0aGlzOwogICAgICAgICAgICBheGlvcy5nZXQoJ2FwaS9DdXN0b21lcnMnKQogICAgICAgICAgICAudGhlbihmdW5jdGlvbihyZXNwb25zZSl7CiAgICAgICAgICAgICAgICBtZS5jdXN0b21lcnMgPSByZXNwb25zZS5kYXRhOwogICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbihlcnJvcil7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICBlZGl0SXRlbShpdGVtKSB7CiAgICAgICAgICAgIHRoaXMuY3VzdG9tZXJpZCA9IGl0ZW0uY3VzdG9tZXJJZDsKICAgICAgICAgICAgdGhpcy5maXJzdG5hbWUgPSBpdGVtLmZpcnN0bmFtZTsKICAgICAgICAgICAgdGhpcy5sYXN0bmFtZSA9IGl0ZW0ubGFzdG5hbWU7CiAgICAgICAgICAgIHRoaXMuZG5pID0gaXRlbS5kbmk7CiAgICAgICAgICAgIHRoaXMuZGlzdHJpY3RpZCA9IGl0ZW0uZGlzdHJpY3RJZDsKICAgICAgICAgICAgdGhpcy5lbWFpbCA9IGl0ZW0uZW1haWw7CiAgICAgICAgICAgIHRoaXMuY2VsbHBob25lID0gaXRlbS5jZWxscGhvbmU7CiAgICAgICAgICAgIHRoaXMuZWRpdGVkSW5kZXggPSAxOwogICAgICAgICAgICB0aGlzLmRpYWxvZyA9IHRydWU7CiAgICAgICAgfSwKICAgICAgICBkZWxldGVJdGVtKGl0ZW0pIHsKICAgICAgICAgICAgbGV0IG1lID0gdGhpczsKICAgICAgICAgICAgaWYoY29uZmlybSgnwr9Fc3TDoXMgc2VndXJvIHF1ZSBxdWllcmVzIGVsaW1pbmFyIGVzdGEgY2l1ZGFkPycpKQogICAgICAgICAgICAgICAgYXhpb3MuZGVsZXRlKCdhcGkvQ3VzdG9tZXJzLycgKyBpdGVtLmN1c3RvbWVySWQsIHsKICAgICAgICAgICAgICAgICAgICAnY3VzdG9tZXJpZCc6IGl0ZW0uY3VzdG9tZXJJZAogICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbihyZXNwb25zZSl7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coaXRlbS5jdXN0b21lcklkKTsKICAgICAgICAgICAgICAgICAgICBtZS5saXN0Q3VzdG9tZXJzKCk7CiAgICAgICAgICAgICAgICAgICAgbWUuY2xvc2UoKTsKICAgICAgICAgICAgICAgICAgICBtZS5jbGVhbigpOwogICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24oZXJyb3IpewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgfSwKICAgICAgICBjbG9zZSgpIHsKICAgICAgICAgICAgdGhpcy5kaWFsb2cgPSBmYWxzZTsKICAgICAgICAgICAgdGhpcy5jbGVhbigpOwogICAgICAgIH0sCiAgICAgICAgY2xlYW4oKSB7CiAgICAgICAgICAgIHRoaXMuY3VzdG9tZXJpZCA9ICIiOwogICAgICAgICAgICB0aGlzLmZpcnN0bmFtZSA9ICIiOwogICAgICAgICAgICB0aGlzLmxhc3RuYW1lID0gIiI7CiAgICAgICAgICAgIHRoaXMuZG5pID0gIiI7CiAgICAgICAgICAgIHRoaXMuZGlzdHJpY3RpZCA9ICIiOwogICAgICAgICAgICB0aGlzLmVtYWlsID0gIiI7CiAgICAgICAgICAgIHRoaXMuY2VsbHBob25lID0gIiI7CiAgICAgICAgICAgIHRoaXMuZWRpdGVkSW5kZXg9LTE7CiAgICAgICAgfSwKICAgICAgICBzYXZlKCkgewogICAgICAgICAgICBsZXQgbWU9dGhpczsKICAgICAgICAgICAgaWYodGhpcy5lZGl0ZWRJbmRleCA+IC0xKSB7CiAgICAgICAgICAgICAgICBheGlvcy5wdXQoJ2FwaS9DdXN0b21lcnMvUHV0Q3VzdG9tZXInLHsKICAgICAgICAgICAgICAgICAgICAnY3VzdG9tZXJpZCc6IG1lLmN1c3RvbWVyaWQsCiAgICAgICAgICAgICAgICAgICAgJ2ZpcnN0bmFtZSc6IG1lLmZpcnN0bmFtZSwKICAgICAgICAgICAgICAgICAgICAnbGFzdG5hbWUnOiBtZS5sYXN0bmFtZSwKICAgICAgICAgICAgICAgICAgICAnZG5pJzogbWUuZG5pLAogICAgICAgICAgICAgICAgICAgICdkaXN0cmljdGlkJzogbWUuZGlzdHJpY3RpZCwKICAgICAgICAgICAgICAgICAgICAnZW1haWwnOiBtZS5lbWFpbCwKICAgICAgICAgICAgICAgICAgICAnY2VsbHBob25lJzogbWUuY2VsbHBob25lCiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXsKICAgICAgICAgICAgICAgICAgICBtZS5jbG9zZSgpOwogICAgICAgICAgICAgICAgICAgIG1lLmxpc3RDdXN0b21lcnMoKTsKICAgICAgICAgICAgICAgICAgICBtZS5jbGVhbigpOwogICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIGF4aW9zLnBvc3QoJ2FwaS9DdXN0b21lcnMnLCB7CiAgICAgICAgICAgICAgICAgICAgJ2ZpcnN0bmFtZSc6IG1lLmZpcnN0bmFtZSwKICAgICAgICAgICAgICAgICAgICAnbGFzdG5hbWUnOiBtZS5sYXN0bmFtZSwKICAgICAgICAgICAgICAgICAgICAnZG5pJzogbWUuZG5pLAogICAgICAgICAgICAgICAgICAgICdkaXN0cmljdGlkJzogbWUuZGlzdHJpY3RpZCwKICAgICAgICAgICAgICAgICAgICAnZW1haWwnOiBtZS5lbWFpbCwKICAgICAgICAgICAgICAgICAgICAnY2VsbHBob25lJzogbWUuY2VsbHBob25lCiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKXsKICAgICAgICAgICAgICAgICAgICBtZS5jbG9zZSgpOwogICAgICAgICAgICAgICAgICAgIG1lLmxpc3RDdXN0b21lcnMoKTsKICAgICAgICAgICAgICAgICAgICBtZS5jbGVhbigpOwogICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLmNsb3NlKCk7CiAgICAgICAgfSwKICAgIH0sCn0K"},{"version":3,"sources":["Customers.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Customers.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <v-container fluid>\r\n    <v-data-iterator\r\n      :items=\"customers\"\r\n      item-key=\"name\"\r\n      :items-per-page=\"100\"\r\n      hide-default-footer\r\n    >\r\n        <template v-slot:header>\r\n        <v-toolbar\r\n          class=\"mb-2\"\r\n          color=\"indigo darken-5\"\r\n          dark\r\n          flat\r\n        >\r\n\r\n          <v-toolbar-title>Lista de clientes</v-toolbar-title>\r\n        </v-toolbar>\r\n        <v-dialog v-model=\"dialog\" max-width=\"800px\">\r\n                    <template v-slot:activator=\"{ on }\">\r\n                        <v-btn color=\"primary\" dark class=\"mb-2\" v-on=\"on\">Nuevo Cliente</v-btn>\r\n                    </template>\r\n                    <v-card>\r\n                        <v-card-title>\r\n                            <span class=\"headline\">{{ formTitle }}</span>\r\n                        </v-card-title>\r\n\r\n                        <v-card-text>\r\n                            <v-container>\r\n                                <v-row>\r\n                                    <v-col cols=\"12\" sm=\"12\" md=\"12\">\r\n                                        <v-text-field v-model=\"firstname\" label=\"Nombre del cliente\"></v-text-field>\r\n                                    </v-col>\r\n                                    <v-col cols=\"12\" sm=\"12\" md=\"12\">\r\n                                        <v-text-field v-model=\"lastname\" label=\"Apellido del cliente\"></v-text-field>\r\n                                    </v-col>\r\n                                    <v-col cols=\"12\" sm=\"12\" md=\"12\">\r\n                                        <v-text-field v-model=\"dni\" label=\"DNI del cliente\"></v-text-field>\r\n                                    </v-col>\r\n                                    <v-col cols=\"12\" sm=\"12\" md=\"12\">\r\n                                        <v-text-field v-model=\"districtid\" label=\"id del distrito\"></v-text-field>\r\n                                    </v-col>\r\n                                    <v-col cols=\"12\" sm=\"12\" md=\"12\">\r\n                                        <v-text-field v-model=\"email\" label=\"Email del cliente\"></v-text-field>\r\n                                    </v-col>\r\n                                    <v-col cols=\"12\" sm=\"12\" md=\"12\">\r\n                                        <v-text-field v-model=\"cellphone\" label=\"Teléfono del cliente\"></v-text-field>\r\n                                    </v-col>\r\n                                </v-row>\r\n                            </v-container>\r\n                            <v-card-actions>\r\n                            <v-spacer></v-spacer>\r\n                            <v-btn color=\"blue darken-1\" text @click=\"close\">Cancel</v-btn>\r\n                            <v-btn color=\"blue darken-1\" text @click=\"save\">Save</v-btn>\r\n                        </v-card-actions>\r\n\r\n                        </v-card-text>\r\n                    </v-card>\r\n        </v-dialog>\r\n        <!--<v-btn color=\"primary\" dark class=\"mb-2\" v-on=\"on\">New City</v-btn>-->\r\n      </template>\r\n      <template v-slot:default=\"{ items }\">\r\n        <v-row>\r\n          <v-col\r\n            v-for=\"item in items\"\r\n            :key=\"item.name\"\r\n            cols=\"12\"\r\n            sm=\"6\"\r\n            md=\"4\"\r\n            lg=\"3\"\r\n          >\r\n            <v-card>\r\n              <v-card-title>\r\n                <h4>{{ item.firstname + \" \" + item.lastname }}</h4>\r\n                <v-btn\r\n              color=\"accent\"\r\n              fab\r\n              small\r\n              dark\r\n              class=\"mx-16\"\r\n            >\r\n              <td>\r\n                    <v-icon @click=\"editItem(item)\">edit</v-icon>\r\n              </td></v-btn>\r\n                </v-card-title>\r\n                <v-divider></v-divider>\r\n              <td class=\"justify-center layout px-0\">\r\n                <h4>DNI: {{ item.dni }}</h4>\r\n              </td>\r\n              <v-divider></v-divider>\r\n              <td class=\"justify-center layout px-0\">\r\n                <h4>id del Distrito: {{ item.districtId }}</h4>\r\n              </td>\r\n            </v-card>\r\n          </v-col>\r\n        </v-row>\r\n\r\n      </template>\r\n    </v-data-iterator>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\n\r\n    import axios from 'axios'\r\n    \r\n    export default {\r\n        data:() => ({\r\n            search: '',\r\n            customerid: '',\r\n            firstname: '',\r\n            lastname: '',\r\n            dni: '',\r\n            districtid: '',\r\n            email: '',\r\n            cellphone: '',\r\n            dialog: false,\r\n            editedIndex: -1,\r\n            customers: [],\r\n            districts: [],\r\n            headers: [\r\n                { text: 'FirstName', value: 'firstname', sortable: true },\r\n                { text: 'LastName', value: 'lastname', sortable: true },\r\n            ],\r\n        }),\r\n        computed: {\r\n            formTitle() {\r\n                return this.editedIndex === -1 ? 'Agregar Cliente': 'Editar Cliente';\r\n            }\r\n        },\r\n        watch: {\r\n            dialog (val) {\r\n                val || this.close()\r\n            }\r\n        },\r\n        created() {\r\n            this.listCustomers();\r\n        },\r\n\r\n        methods: {\r\n            listCustomers() {\r\n                let me= this;\r\n                axios.get('api/Customers')\r\n                .then(function(response){\r\n                    me.customers = response.data;\r\n                }).catch(function(error){\r\n                    console.log(error);\r\n                })\r\n            },\r\n            editItem(item) {\r\n                this.customerid = item.customerId;\r\n                this.firstname = item.firstname;\r\n                this.lastname = item.lastname;\r\n                this.dni = item.dni;\r\n                this.districtid = item.districtId;\r\n                this.email = item.email;\r\n                this.cellphone = item.cellphone;\r\n                this.editedIndex = 1;\r\n                this.dialog = true;\r\n            },\r\n            deleteItem(item) {\r\n                let me = this;\r\n                if(confirm('¿Estás seguro que quieres eliminar esta ciudad?'))\r\n                    axios.delete('api/Customers/' + item.customerId, {\r\n                        'customerid': item.customerId\r\n                    }).then(function(response){\r\n                        console.log(item.customerId);\r\n                        me.listCustomers();\r\n                        me.close();\r\n                        me.clean();\r\n                    }).catch(function(error){\r\n                        console.log(error);\r\n                    })\r\n            },\r\n            close() {\r\n                this.dialog = false;\r\n                this.clean();\r\n            },\r\n            clean() {\r\n                this.customerid = \"\";\r\n                this.firstname = \"\";\r\n                this.lastname = \"\";\r\n                this.dni = \"\";\r\n                this.districtid = \"\";\r\n                this.email = \"\";\r\n                this.cellphone = \"\";\r\n                this.editedIndex=-1;\r\n            },\r\n            save() {\r\n                let me=this;\r\n                if(this.editedIndex > -1) {\r\n                    axios.put('api/Customers/PutCustomer',{\r\n                        'customerid': me.customerid,\r\n                        'firstname': me.firstname,\r\n                        'lastname': me.lastname,\r\n                        'dni': me.dni,\r\n                        'districtid': me.districtid,\r\n                        'email': me.email,\r\n                        'cellphone': me.cellphone\r\n                    }).then(function(response){\r\n                        me.close();\r\n                        me.listCustomers();\r\n                        me.clean();\r\n                    }).catch(function(error) {\r\n                        console.log(error);\r\n                    });\r\n                }\r\n                else {\r\n                    axios.post('api/Customers', {\r\n                        'firstname': me.firstname,\r\n                        'lastname': me.lastname,\r\n                        'dni': me.dni,\r\n                        'districtid': me.districtid,\r\n                        'email': me.email,\r\n                        'cellphone': me.cellphone\r\n                    }).then(function(response){\r\n                        me.close();\r\n                        me.listCustomers();\r\n                        me.clean();\r\n                    }).catch(function(error) {\r\n                        console.log(error);\r\n                    });\r\n                }\r\n                this.close();\r\n            },\r\n        },\r\n    }\r\n</script>\r\n\r\n"]}]}